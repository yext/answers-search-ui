# This workflow will run our tests, generate an lcov code coverage file,
# and send that coverage to Coveralls 

name: Code Coverage

on:
  push:
    branches-ignore: dev/*
  pull_request:

jobs:
  call_coveralls:
    uses: yext/answers-headless/.github/workflows/coverage_reuse.yml@dev/test-reusable-workflows
    with:
      test_script: npx gulp templates && npx jest --coverage
    secrets:
      caller_github_token: ${{ secrets.GITHUB_TOKEN }}
