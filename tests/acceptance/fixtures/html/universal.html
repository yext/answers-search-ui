<html>
    <head>
        <meta charset="utf-8" />
    
        <script src="http://localhost:9999/dist/answerstemplates.compiled.min.js"></script>
        <script src="http://localhost:9999/dist/answers.js"></script>
        <link rel="stylesheet" type="text/css" href="http://localhost:9999/dist/answers.css">
    </head>
    <body>
        <div class="answers-container">
            <div class="search-bar-container"></div>
            <div class="navigation-container"></div>
            <div class="results-container"></div>
        </div>
    
        <script>
            ANSWERS.init({
                apiKey: 'df4b24f4075800e5e9705090c54c6c13',
                experienceKey: 'sdkacceptancetests',
                businessId: '2287528',
                experienceVersion: 'PRODUCTION',
                templateBundle: TemplateBundle.default,
                onReady: function() {
                    // Manually set the geolocation to the Yext VA office,
                    // otherwise the API will use the ip address of the circle ci container
                    this.setGeolocation(38.89, -77.06)
                    this.addComponent('SearchBar', {
                        container: '.search-bar-container',
                        clearButton: true,
                        promptForLocation: true
                    });

                    this.addComponent('Navigation', {
                      container: '.navigation-container',
                      verticalPages: [
                        {
                          label: 'Home',
                          url: './universal',
                          isFirst: true
                        },
                        {
                          label: 'Facets',
                          url: './links',
                          isActive: true
                        },
                        {
                          label: 'Vertical',
                          url: './vertical',
                        }
                      ],
                    });

                    this.addComponent('UniversalResults', {
                        container: '.results-container',
                        appliedFilters: {
                          showChangeFilters: true,
                        },
                        config: {
                            "people": {
                                includeMap: true,
                                mapConfig: {
                                    mapProvider: 'google',
                                    apiKey: 'AIzaSyB5D45ghF1YMfqTLSzWubmlCN1euBVPhFw',
                                }
                            },
                            "faq": {
                                viewAllText: "View More faqs",
                                sectionTitleIconName: 'briefcase',
                            },
                        }
                    });
                }
            })
        </script>
    </body>
</html>
