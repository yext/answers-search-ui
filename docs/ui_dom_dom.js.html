<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: ui/dom/dom.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: ui/dom/dom.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/** @module DOM */

/* global HTMLElement, HTMLDocument, Window, Event */

let document = window.document;
let parser = new DOMParser();

/**
 * Static interface for interacting with the DOM API.
 * @namespace
 */
export default class DOM {
  static setup (d, p) {
    document = d;
    parser = p;
  }

  /**
   * create a HTMLElement from and HTML string
   * @param {string} html The HTML to parse to a DOM node.
   * @return {HTMLElement}
   */
  static create (html) {
    return parser.parseFromString(html, 'text/html').body;
  }

  /**
   * query the DOM for a given css selector
   * @param {HTMLElement} parent Optional context to use for a search. Defaults to document if not provided.
   * @param {string} selector the CSS selector to query for
   *
   * @returns {HTMLElement} the FIRST node it finds, if any
   */
  static query (parent, selector) {
    // Facade, shifting the selector to the parent argument if only one
    // argument is provided
    if (selector === undefined) {
      selector = parent;
      parent = document;
    }

    if (selector instanceof HTMLElement || selector instanceof Window || selector instanceof HTMLDocument) {
      return selector;
    }

    return parent.querySelector(selector);
  }

  /**
   * query the DOM for a given css selector
   * @param {HTMLElement} parent Optional context to use for a search. Defaults to document if not provided.
   * @param {string} selector the CSS selector to query for
   *
   * @returns {HTMLElement} the FIRST node it finds, if any
   */
  static queryAll (parent, selector) {
    // Facade, shifting the selector to the parent argument if only one
    // argument is provided
    if (selector === undefined) {
      selector = parent;
      parent = document;
    }

    if (selector instanceof HTMLElement || selector instanceof HTMLDocument || selector instanceof Window) {
      return selector;
    }

    return parent.querySelectorAll(selector);
  }

  static onReady (cb) {
    if (document.readyState === 'complete' || document.readyState === 'loaded' || document.readyState === 'interactive') {
      cb();
      return;
    }

    DOM.on(document, 'DOMContentLoaded', cb);
  }

  /**
   * createEle will create a {HTMLElement} and apply the properties attributes through an object provided.
   * @param {string} el The element `tag` name to construct
   * @param {Object} opts_data Optional attributes to apply to the new HTMLElement
   */
  static createEl (el, opts_data = {}) {
    let node = document.createElement(el);
    let props = Object.keys(opts_data);

    for (let i = 0; i &lt; props.length; i++) {
      if (props[i] === 'class') {
        DOM.addClass(node, opts_data[props[i]]);
        continue;
      }

      node[props[i]] = opts_data[props[i]];
    }

    return node;
  }

  static append (parent, node) {
    if (node === undefined) {
      node = parent;
      parent = document;
    }

    if (typeof parent === 'string') {
      parent = DOM.query(parent);
    }

    // Support HTML injection as well as HTMLElement appends
    if (typeof node === 'string') {
      parent.insertAdjacentHTML('afterBegin', node);
    } else {
      parent.appendChild(node);
    }
  }

  static addClass (node, className) {
    let classes = className.split(',');
    let len = classes.length;

    for (let i = 0; i &lt; len; i++) {
      node.classList.add(classes[i]);
    }
  }

  static empty (parent) {
    parent.innerHTML = '';
  }

  static css (selector, styles) {
    let node = DOM.query(selector);

    for (let prop in styles) {
      node.style[prop] = styles[prop];
    }
  }

  static attr (selector, attr, val) {
    DOM.query(selector).setAttribute(attr, val);
  }

  static trigger (selector, event, settings) {
    let e = new Event(event, Object.assign({
      'bubbles': true,
      'cancelable': true
    }, settings || {}));

    DOM.query(selector).dispatchEvent(e);
  }

  static on (selector, evt, handler) {
    DOM.query(selector).addEventListener(evt, handler);
  }

  static off (selector, evt, handler) {
    DOM.query(selector).removeEventListener(evt, handler);
  }

  static delegate (ctxt, selector, evt, handler) {
    let el = DOM.query(ctxt);
    el.addEventListener(evt, function (event) {
      let target = event.target;
      while (!target.isEqualNode(el)) {
        if (target.matches(selector)) {
          handler(event, target);
          break;
        }
        target = target.parentNode;
      }
    });
  }
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-AnalyticsReporter.html">AnalyticsReporter</a></li><li><a href="module-answers-umd.html">answers-umd</a></li><li><a href="module-ApiRequest.html">ApiRequest</a></li><li><a href="module-AutoCompleteApi.html">AutoCompleteApi</a></li><li><a href="module-AutoCompleteComponent.html">AutoCompleteComponent</a></li><li><a href="module-AutoCompleteData.html">AutoCompleteData</a></li><li><a href="module-AutoCompleteDataTransformer.html">AutoCompleteDataTransformer</a></li><li><a href="module-Component.html">Component</a></li><li><a href="module-ComponentManager.html">ComponentManager</a></li><li><a href="module-Core.html">Core</a></li><li><a href="module-core_constants.html">core/constants</a></li><li><a href="module-core_index.html">core/index</a></li><li><a href="module-core_storage_storagekeys.html">core/storage/storagekeys</a></li><li><a href="module-DirectAnswer.html">DirectAnswer</a></li><li><a href="module-DirectAnswerComponent.html">DirectAnswerComponent</a></li><li><a href="module-DOM.html">DOM</a></li><li><a href="module-ErrorReporter.html">ErrorReporter</a></li><li><a href="module-Errors.html">Errors</a></li><li><a href="module-EventEmitter.html">EventEmitter</a></li><li><a href="module-EventResultsItemComponent.html">EventResultsItemComponent</a></li><li><a href="module-Filter.html">Filter</a></li><li><a href="module-FilterBoxComponent.html">FilterBoxComponent</a></li><li><a href="module-FilterOptionsComponent.html">FilterOptionsComponent</a></li><li><a href="module-FilterSearchComponent.html">FilterSearchComponent</a></li><li><a href="module-GoogleMapProvider.html">GoogleMapProvider</a></li><li><a href="module-HandlebarsRenderer.html">HandlebarsRenderer</a></li><li><a href="module-HttpRequester.html">HttpRequester</a></li><li><a href="module-LocationResultsItemComponent.html">LocationResultsItemComponent</a></li><li><a href="module-MapBoxMapProvider.html">MapBoxMapProvider</a></li><li><a href="module-MapComponent.html">MapComponent</a></li><li><a href="module-MapProvider.html">MapProvider</a></li><li><a href="module-ModuleData.html">ModuleData</a></li><li><a href="module-Navigation.html">Navigation</a></li><li><a href="module-NavigationComponent.html">NavigationComponent</a></li><li><a href="module-PeopleResultsItemComponent.html">PeopleResultsItemComponent</a></li><li><a href="module-QuestionSubmissionComponent.html">QuestionSubmissionComponent</a></li><li><a href="module-Renderer.html">Renderer</a></li><li><a href="module-Result.html">Result</a></li><li><a href="module-ResultsComponent.html">ResultsComponent</a></li><li><a href="module-ResultsItemComponent.html">ResultsItemComponent</a></li><li><a href="module-SearchApi.html">SearchApi</a></li><li><a href="module-SearchComponent.html">SearchComponent</a></li><li><a href="module-SearchDataTransformer.html">SearchDataTransformer</a></li><li><a href="module-Section.html">Section</a></li><li><a href="module-State.html">State</a></li><li><a href="module-Storage.html">Storage</a></li><li><a href="module-TemplateLoader.html">TemplateLoader</a></li><li><a href="module-ui_components_const.html">ui/components/const</a></li><li><a href="module-ui_index.html">ui/index</a></li><li><a href="module-ui_rendering_const.html">ui/rendering/const</a></li><li><a href="module-UniversalResults.html">UniversalResults</a></li><li><a href="module-UniversalResultsComponent.html">UniversalResultsComponent</a></li><li><a href="module-VerticalResults.html">VerticalResults</a></li></ul><h3>Namespaces</h3><ul><li><a href="module-DOM.html">DOM</a></li></ul><h3>Classes</h3><ul><li><a href="module.exports.html">exports</a></li><li><a href="module-AnalyticsReporter.html">AnalyticsReporter</a></li><li><a href="module-answers-umd-Answers.html">Answers</a></li><li><a href="module-ApiRequest.html">ApiRequest</a></li><li><a href="module-AutoCompleteApi.html">AutoCompleteApi</a></li><li><a href="module-AutoCompleteDataTransformer.html">AutoCompleteDataTransformer</a></li><li><a href="module-Component.html">Component</a></li><li><a href="module-ComponentManager.html">ComponentManager</a></li><li><a href="module-Core.html">Core</a></li><li><a href="module-ErrorReporter.html">ErrorReporter</a></li><li><a href="module-Errors.AnswersBaseError.html">AnswersBaseError</a></li><li><a href="module-Errors.AnswersBasicError.html">AnswersBasicError</a></li><li><a href="module-Errors.AnswersComponentError.html">AnswersComponentError</a></li><li><a href="module-Errors.AnswersCoreError.html">AnswersCoreError</a></li><li><a href="module-Errors.AnswersEndpointError.html">AnswersEndpointError</a></li><li><a href="module-Errors.AnswersStorageError.html">AnswersStorageError</a></li><li><a href="module-Errors.AnswersUiError.html">AnswersUiError</a></li><li><a href="module-EventEmitter.html">EventEmitter</a></li><li><a href="module-Filter.html">Filter</a></li><li><a href="module-FilterBoxComponent.html">FilterBoxComponent</a></li><li><a href="module-FilterOptionsComponent.html">FilterOptionsComponent</a></li><li><a href="module-FilterSearchComponent.html">FilterSearchComponent</a></li><li><a href="module-GoogleMapProvider.html">GoogleMapProvider</a></li><li><a href="module-HandlebarsRenderer.html">HandlebarsRenderer</a></li><li><a href="module-HttpRequester.html">HttpRequester</a></li><li><a href="module-MapBoxMapProvider.html">MapBoxMapProvider</a></li><li><a href="module-MapProvider.html">MapProvider</a></li><li><a href="module-ModuleData.html">ModuleData</a></li><li><a href="module-NavigationComponent.html">NavigationComponent</a></li><li><a href="module-NavigationComponent.Tab.html">Tab</a></li><li><a href="module-Renderer.html">Renderer</a></li><li><a href="module-SearchApi.html">SearchApi</a></li><li><a href="module-SearchComponent.html">SearchComponent</a></li><li><a href="module-SearchDataTransformer.html">SearchDataTransformer</a></li><li><a href="module-State.html">State</a></li><li><a href="module-Storage.html">Storage</a></li><li><a href="module-TemplateLoader.html">TemplateLoader</a></li></ul><h3>Global</h3><ul><li><a href="global.html#addOptions">addOptions</a></li><li><a href="global.html#toApiEvent">toApiEvent</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.2</a> on Fri Jul 19 2019 10:43:24 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
